exports.id=102,exports.ids=[102],exports.modules={3550:(e,s,t)=>{"use strict";t.d(s,{O:()=>r});var a=t(2885);let r=(0,a.createClient)("https://pgsvorcullkrgmcbpszb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBnc3ZvcmN1bGxrcmdtY2Jwc3piIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0MzM2OTksImV4cCI6MjA3MTAwOTY5OX0.75yAzHMjHxkR8EPAMKFlj6o31qhxgUIN1WmzMe2VlS4")},8102:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>App});var a=t(997),r=t(5299),l=t.n(r);t(6764);var n=t(1664),c=t.n(n),i=t(6689);function ThemeToggle(){let[e,s]=(0,i.useState)(!1),[t,r]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{s(!0);let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,a=e?"dark"===e:t;document.documentElement.classList.toggle("dark",a),r(a)},[]),e)?a.jsx("button",{className:"btn",onClick:()=>{let e=!t;r(e),document.documentElement.classList.toggle("dark",e),localStorage.setItem("theme",e?"dark":"light")},children:t?"حالت روشن":"حالت تیره"}):null}var o=t(3550);function useUser(){let[e,s]=(0,i.useState)(null);return(0,i.useEffect)(()=>{o.O.auth.getSession().then(({data:e})=>s(e.session?.user??null));let{data:e}=o.O.auth.onAuthStateChange((e,t)=>{s(t?.user??null)});return()=>e.subscription.unsubscribe()},[]),e}function Layout({children:e}){let s=useUser();return(0,a.jsxs)("div",{children:[a.jsx("header",{className:"sticky top-0 z-40 bg-[var(--bg)]/80 backdrop-blur border-b border-slate-200/60 dark:border-slate-800",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(c(),{className:"text-2xl font-extrabold",href:"/",children:"TopTenly"}),(0,a.jsxs)("nav",{className:"hidden md:flex gap-4 text-sm",children:[a.jsx(c(),{href:"/",children:"خانه"}),a.jsx(c(),{href:"/categories",children:"دسته‌بندی‌ها"}),a.jsx(c(),{href:"/favorites",children:"علاقه‌مندی‌ها"}),a.jsx(c(),{href:"/profile",children:"پروفایل"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(ThemeToggle,{}),s?a.jsx("a",{href:"/api/auth/logout",className:"btn",children:"خروج"}):(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(c(),{className:"btn",href:"/auth/login",children:"ورود"}),a.jsx(c(),{className:"btn btn-primary",href:"/auth/signup",children:"ثبت‌نام"})]})]})]})}),a.jsx("main",{className:"container mx-auto p-4",children:e}),(0,a.jsxs)("footer",{className:"container mx-auto p-6 text-center text-sm opacity-70",children:["\xa9 ",new Date().getFullYear()," TopTenly"]})]})}function App({Component:e,pageProps:s}){return a.jsx("div",{className:l().className,children:a.jsx(Layout,{children:a.jsx(e,{...s})})})}},6764:()=>{}};